import{Q as B}from"./QImg.d6c234af.js";import{h as s,A as C,B as G,C as z,D as T,E as P,r as I,G as w,j as r,H as n,I as t,d as e,l as d,Q as f,J as a,k as R,K as i,q as u,L as p,M as V,N as D,O as x,P as y,R as g}from"./index.82fcef47.js";import{Q as o}from"./QItemSection.ae5fa3bc.js";import{Q as c}from"./QItem.11b86236.js";import{Q as $}from"./QBadge.1dc9ba7f.js";import{Q as L}from"./QList.2ebfca89.js";import{Q as b}from"./QMenu.cc6b4973.js";import{Q as E,_ as H}from"./statue-of-liberty.aeb6fc05.js";import{Q as j,a as J,b as K}from"./QLayout.7d263d00.js";import{u as O}from"./use-quasar.6d37afbf.js";import"./QResizeObserver.3c4a3fbd.js";const U=[s("path",{d:"M0 50A50 50 0 0 1 50 0L50 50L0 50",fill:"currentColor",opacity:"0.5"},[s("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"0.8s",repeatCount:"indefinite"})]),s("path",{d:"M50 0A50 50 0 0 1 100 50L50 50L50 0",fill:"currentColor",opacity:"0.5"},[s("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"1.6s",repeatCount:"indefinite"})]),s("path",{d:"M100 50A50 50 0 0 1 50 100L50 50L100 50",fill:"currentColor",opacity:"0.5"},[s("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"2.4s",repeatCount:"indefinite"})]),s("path",{d:"M50 100A50 50 0 0 1 0 50L50 50L50 100",fill:"currentColor",opacity:"0.5"},[s("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"3.2s",repeatCount:"indefinite"})])];var Y=C({name:"QSpinnerPie",props:G,setup(k){const{cSize:m,classes:l}=z(k);return()=>s("svg",{class:l.value,width:m.value,height:m.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},U)}});const F=s("div",{class:"q-space"});var W=C({name:"QSpace",setup(){return()=>F}});const X=d("h4",null,"\u7F8E\u597D\u81EA\u904A",-1),Z={class:"text-center"},ee={key:0,class:"GL__toolbar-link q-ml-xs q-gutter-md text-body2 text-weight-bold row items-center no-wrap"},te={class:"q-pl-sm q-gutter-sm row items-center no-wrap"},ae={class:"row items-center no-wrap"},re=["src"],ge={__name:"MainLayout",setup(k){const m=T(),{isLogin:l,isAdmin:v,cart:S,avatar:q}=P(m),{logout:M}=m,Q=O(),A=I(!1);return(oe,h)=>{const _=w("router-link"),N=w("router-view");return r(),n(j,{class:"bg-white"},{default:t(()=>[e(J,{elevated:"",class:"text-white",style:{background:"$primary"},"height-hint":"61.59"},{default:t(()=>[e(E,{class:"q-py-sm q-px-md"},{"no-option":t(()=>[e(c,null,{default:t(()=>[e(o,null,{default:t(()=>[d("div",Z,[e(Y,{color:"grey-5",size:"24px"})])]),_:1})]),_:1})]),default:t(()=>[e(f,{round:"",dense:"",flat:"",ripple:!1,size:"19px",color:"white",class:"q-mr-sm","no-caps":"",to:"/"},{default:t(()=>[e(B,{src:H,width:"48px",class:"logo"})]),_:1}),X,a(Q).screen.gt.sm?(r(),R("div",ee,[e(_,{to:"/tickets/"},{default:t(()=>[i(" \u666F\u9EDE\u7968\u5238 ")]),_:1}),e(_,{to:"/map/"},{default:t(()=>[i(" \u5730\u5716\u5FEB\u641C ")]),_:1}),e(_,{to:"/guides/"},{default:t(()=>[i(" \u5E38\u898BQA ")]),_:1})])):u("",!0),e(W),d("div",te,[a(Q).screen.gt.xs?(r(),n(f,{key:0,outline:"",flat:""},{default:t(()=>[d("div",ae,[a(l)?(r(),n(p,{key:0,name:"fa-solid fa-cart-shopping",size:"20px"})):u("",!0),a(l)?(r(),n($,{key:1,label:a(S),color:"red",floating:"",transparent:""},null,8,["label"])):u("",!0),a(l)?(r(),n(p,{key:2,name:"arrow_drop_down",size:"16px"})):u("",!0),e(b,{"auto-close":""},{default:t(()=>[e(L,{dense:"",style:{"min-width":"100px"}},{default:t(()=>[e(c,{clickable:"",class:"GL__menu-link",to:"/cart"},{default:t(()=>[e(o,null,{default:t(()=>[i("\u6211\u7684\u8CFC\u7269\u8ECA")]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})):u("",!0),e(f,{dense:"",flat:"","no-wrap":""},{default:t(()=>[e(V,{rounded:"",size:"36px"},{default:t(()=>[d("img",{src:a(q)},null,8,re)]),_:1}),e(p,{name:"arrow_drop_down",size:"16px"}),e(b,{"auto-close":""},{default:t(()=>[e(L,{dense:""},{default:t(()=>[e(c,{class:"GL__menu-link-signed-in"},{default:t(()=>[e(o,null,{default:t(()=>[d("div",null,[i("\u76EE\u524D\u767B\u5165\uFF1A "),d("strong",null,D(a(m).account),1)])]),_:1})]),_:1}),e(x),a(l)?u("",!0):(r(),n(c,{key:0,clickable:"",class:"GL__menu-link",label:"Prompt",color:"primary",to:"/login",onClick:h[0]||(h[0]=se=>A.value=!0)},{default:t(()=>[e(o,null,{default:t(()=>[i(" \u6703\u54E1\u767B\u5165 ")]),_:1})]),_:1})),a(l)&&a(v)?y((r(),n(c,{key:1,clickable:"",class:"GL__menu-link",to:"/admin"},{default:t(()=>[e(o,{avatar:""},{default:t(()=>[e(p,{color:"primary",name:"fa-solid fa-gear"})]),_:1}),e(o,null,{default:t(()=>[i("\u5F8C\u53F0\u7BA1\u7406")]),_:1})]),_:1})),[[g]]):u("",!0),a(l)&&!a(v)?y((r(),n(c,{key:2,clickable:"",class:"GL__menu-link",to:"/user"},{default:t(()=>[e(o,{avatar:""},{default:t(()=>[e(p,{color:"primary",name:"assignment_ind"})]),_:1}),e(o,null,{default:t(()=>[i("\u6211\u7684\u6A94\u6848")]),_:1})]),_:1})),[[g]]):u("",!0),e(x),a(l)?y((r(),n(c,{key:3,clickable:"",class:"GL__menu-link",onClick:a(M)},{default:t(()=>[e(o,{avatar:""},{default:t(()=>[e(p,{color:"primary",name:"fa-solid fa-arrow-right-from-bracket"})]),_:1}),e(o,null,{default:t(()=>[i("\u767B\u51FA")]),_:1})]),_:1},8,["onClick"])),[[g]]):u("",!0)]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1}),e(K,{style:{"padding-top":"0"}},{default:t(()=>[e(N)]),_:1})]),_:1})}}};export{ge as default};
