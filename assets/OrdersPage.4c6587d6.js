import{az as h,aW as x,j as s,k as c,d as e,O as u,l as r,F as d,aK as m,H as f,I as o,N as n,K as p,aU as y,Q as q,aD as v,aE as Q}from"./index.a9935b54.js";import{Q as k}from"./QImg.b2227d70.js";import{u as w}from"./use-quasar.b690a10f.js";const B=r("h3",{class:"text-center q-pa-lg"},"\u8A02\u55AE\u9801\u9762",-1),C={class:"q-pa-md row items-start q-gutter-md"},D={class:"text-overline"},N={class:"text-caption text-grey"},S={class:"text-h5",align:"right"},E={__name:"OrdersPage",setup(P){const g=w(),_=h([]);return(async()=>{try{const{data:l}=await x.get("/orders");_.push(...l.result.map(i=>(i.totalPrice=i.products.reduce((t,a)=>t+a.p_id.price*a.quantity,0),i)))}catch{g.notify({position:"center",color:"negative",message:"\u53D6\u5F97\u8A02\u55AE\u5931\u6557",icon:"check_circle",timeout:2e3})}})(),(l,i)=>(s(),c(d,null,[B,e(u,{inset:""}),r("div",C,[(s(!0),c(d,null,m(_,t=>(s(),f(Q,{key:t._id,class:"my-card col",flat:"",bordered:""},{default:o(()=>[e(y,{class:"q-pa-md"},{default:o(()=>[r("div",D," \u8A02\u55AE\u7DE8\u865F\uFF1A"+n(t.u_id),1),r("div",N,"\u4E0B\u55AE\u65E5\u671F\uFF1A"+n(new Date(t.date).toLocaleDateString()),1),(s(!0),c(d,null,m(t.products,a=>(s(),c("div",{key:a._id,class:"text-overline q-mt-sm q-mb-xs"},[e(k,{src:a.p_id.image,style:{width:"50px"}},null,8,["src"]),p(" "+n(a.p_id.name+" x "+a.quantity),1)]))),128)),r("div",S,"\u7E3D\u5171: $"+n(t.totalPrice),1)]),_:2},1024),e(u),e(v,{class:"q-pa-md",align:"right"},{default:o(()=>[e(q,{flat:"",color:"primary",to:"/tickets"},{default:o(()=>[p(" \u518D\u8CB7\u4E00\u6B21 ")]),_:1})]),_:1})]),_:2},1024))),128))])],64))}};export{E as default};
