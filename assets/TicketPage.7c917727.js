import{Q}from"./QBadge.c6b1a8a3.js";import{aV as w,aM as V,r as m,D as k,az as C,aF as B,j as c,k as p,l as s,N as l,d as o,L as N,K as F,I as i,aG as H,Q as _,aJ as L,F as M,aK as S,H as T,aH as z,aE as I,aN as U}from"./index.79deff03.js";import{Q as D}from"./QForm.8b5de7cb.js";import{u as E}from"./use-quasar.aeb6e265.js";const K={class:"column items-start q-pa-lg"},P={class:"q-pt-lg self-start"},R={class:"text-body1 q-pt-xs"},$={class:"q-pt-xs"},j={class:"text-body1 text-grey q-pt-lg"},G={class:"row"},J={style:{width:"70vw"}},A=s("h6",{class:"bg-accent text-white",style:{"border-radius":"15px 15px 0 0"}},"\u7ACB\u5373\u4E0B\u55AE",-1),O={class:"q-pa-md text-h4"},W={class:"q-pa-md"},X=["innerHTML"],ae={__name:"TicketPage",setup(Y){const g=E(),h=w(),b=V(),d=m(1),y=k(),{editCart:f}=y,n=m(0),u={required(t){return!!t||"\u6B04\u4F4D\u5FC5\u586B"},number(t){return t>0||"\u6578\u91CF\u932F\u8AA4"}},e=C({_id:"",name:"",price:0,subtitle:"",description:"",location:"",image:"",images:[],sell:!1,category:""}),x=()=>{f({_id:e._id,quantity:n.value})};return(async()=>{try{const{data:t}=await B.get("/products/"+h.params.id);e._id=t.result._id,e.name=t.result.name,e.price=t.result.price,e.subtitle=t.result.subtitle,e.description=t.result.description,e.location=t.result.location,e.image=t.result.image,e.images=t.result.images,e.sell=t.result.sell,e.category=t.result.category,document.title="\u8CFC\u7269\u7DB2 | "+e.name}catch{g.notify({position:"center",color:"negative",message:"\u5931\u6557",icon:"check_circle",timeout:2e3}),b.go(-1)}})(),(t,r)=>(c(),p("div",K,[s("h4",P,l(e.name),1),s("div",R,l(e.subtitle),1),s("div",$,[o(Q,{color:"accent","text-color":"white",label:"\u71B1\u8CE3\u4E2D"})]),s("div",j,[o(N,{name:"location_on"}),F(" "+l(e.location),1)]),s("div",G,[s("div",J,[o(H,{modelValue:d.value,"onUpdate:modelValue":r[0]||(r[0]=a=>d.value=a),"transition-prev":"slide-right","transition-next":"slide-left",swipeable:"",animated:"","control-color":"#fff",padding:"",arrows:"",height:"300px",navigation:"",class:"bg-grey-1 shadow-2 rounded-borders"},{"navigation-icon":i(({active:a,btnProps:v,onClick:q})=>[o(_,L(v,{size:"xs",icon:a?"auto_awesome":"circle",onClick:q}),null,16,["icon","onClick"])]),default:i(()=>[(c(!0),p(M,null,S(e.images,a=>(c(),T(z,{key:a,name:a,"img-src":a},null,8,["name","img-src"]))),128))]),_:1},8,["modelValue"])]),o(D,{onSubmit:x},{default:i(()=>[o(I,{class:"q-ml-lg fixed",align:"center",style:{height:"300px","border-radius":"15px"}},{default:i(()=>[A,s("h4",O," $"+l(e.price),1),o(U,{modelValue:n.value,"onUpdate:modelValue":r[1]||(r[1]=a=>n.value=a),modelModifiers:{number:!0},type:"number",label:"\u6578\u91CF","lazy-rules":"",rules:[u.required,u.number],min:"0","bg-color":"secondary",filled:"",class:"q-pa-md"},null,8,["modelValue","rules"]),s("div",W,[o(_,{label:"\u52A0\u5165\u8CFC\u7269\u8ECA",type:"submit",color:"accent"})])]),_:1})]),_:1})]),s("div",{innerHTML:e.description,class:"q-pt-lg"},null,8,X)]))}};export{ae as default};
