import{aM as Q,r as A,az as h,aW as u,j as i,k as m,d as a,O as v,l as c,I as r,aE as V,F as p,aK as f,aJ as g,H as q}from"./index.47410ba5.js";import{Q as C,a as y,_ as P,b as $}from"./GuideCard.584af6a4.js";import{Q as B,a as k}from"./QTabPanels.cc37ac6a.js";import{u as I}from"./use-quasar.a5c750bb.js";import{_ as T}from"./TicketCard.98e48a0d.js";import"./QResizeObserver.626535b7.js";import"./rtl.b51694b1.js";import"./QItem.fde5a9c2.js";import"./QItemSection.c094a02f.js";import"./QItemLabel.986a9325.js";import"./QImg.0d6479e5.js";const E=c("h3",{class:"text-center q-pa-lg"},"\u6703\u54E1\u5178\u85CF\u9801",-1),U={class:"q-pa-md"},j={class:"q-gutter-y-md"},F={class:"text-center"},N={class:"row"},Y={__name:"UserArchivePage",setup(z){const x=Q(),s=I(),n=A("\u6211\u7684\u7968\u5238\u6536\u85CF"),l=h([]),d=h([]);(async()=>{try{const{data:o}=await u.get("/users/productArchive"),{data:t}=await u.get("/users/productArchive");l.push(...o.result.map(e=>(e.productArchive=t.result.includes(e._id),e)))}catch{s.notify({position:"center",color:"negative",message:"productArchive\u5931\u6557",icon:"check_circle",timeout:2e3})}})(),(async()=>{try{const{data:o}=await u.get("/users/archive"),{data:t}=await u.get("/users/archive");d.push(...o.result.map(e=>(e.archive=t.result.includes(e._id),e)))}catch{s.notify({position:"center",color:"negative",message:"archive\u5931\u6557",icon:"check_circle",timeout:2e3})}})();const b=o=>{try{const t=l.findIndex(e=>e._id===o._id);t!==-1&&(l.splice(t,1),s.notify({position:"center",color:"positive",message:"\u6210\u529F\u7DE8\u8F2F\u6536\u85CF",icon:"check_circle",timeout:2e3}),x.push("/user/archive"))}catch(t){console.log(t),s.notify({position:"center",color:"negative",message:"\u5931\u6557",icon:"check_circle",timeout:2e3})}},w=o=>{try{const t=d.findIndex(e=>e._id===o._id);t!==-1&&(d.splice(t,1),s.notify({position:"center",color:"positive",message:"\u6210\u529F\u7DE8\u8F2F\u6536\u85CF",icon:"check_circle",timeout:2e3}))}catch{s.notify({position:"center",color:"negative",message:"\u5931\u6557",icon:"check_circle",timeout:2e3})}};return(o,t)=>(i(),m(p,null,[E,a(v,{inset:""}),c("div",U,[c("div",j,[a(V,null,{default:r(()=>[a(C,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:r(()=>[a(y,{name:"\u6211\u7684\u7968\u5238\u6536\u85CF",label:"\u6211\u7684\u7968\u5238\u6536\u85CF"}),a(y,{name:"\u6211\u7684\u6587\u7AE0\u6536\u85CF",label:"\u6211\u7684\u6587\u7AE0\u6536\u85CF"})]),_:1},8,["modelValue"]),a(v),a(B,{modelValue:n.value,"onUpdate:modelValue":t[1]||(t[1]=e=>n.value=e),animated:""},{default:r(()=>[a(k,{name:"\u6211\u7684\u7968\u5238\u6536\u85CF"},{default:r(()=>[c("div",F,[c("div",N,[(i(!0),m(p,null,f(l,e=>(i(),m("div",{key:e._id,class:"col-4 q-pa-md"},[a(T,g(e,{onClick:_=>b({_id:e._id})}),null,16,["onClick"])]))),128))])])]),_:1}),a(k,{name:"\u6211\u7684\u6587\u7AE0\u6536\u85CF"},{default:r(()=>[(i(!0),m(p,null,f(d,(e,_)=>(i(),q($,{key:_,class:"shadow-1 overflow-hidden q-ma-lg",style:{"border-radius":"30px"},label:e.title,icon:"explore","header-class":"bg-primary text-white","expand-icon-class":"text-white"},{default:r(()=>[a(P,g(e,{onClick:H=>w({_id:e._id})}),null,16,["onClick"])]),_:2},1032,["label"]))),128))]),_:1})]),_:1},8,["modelValue"])]),_:1})])])],64))}};export{Y as default};
