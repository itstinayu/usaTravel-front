import{r as w,az as h,aW as u,j as o,k as m,d as t,O as v,l as i,I as s,aE as Q,F as p,aK as f,aJ as g,H as A}from"./index.0517690a.js";import{Q as V,a as y,_ as q,b as C}from"./GuideCard.f6756b6b.js";import{Q as P,a as x}from"./QTabPanels.ff125b13.js";import{u as $}from"./use-quasar.c7e5da00.js";import{_ as B}from"./TicketCard.f5a851f4.js";import"./QResizeObserver.c6ed713b.js";import"./rtl.b51694b1.js";import"./QItem.222712b7.js";import"./QItemSection.53436c72.js";import"./QItemLabel.5e9a9f6d.js";import"./QImg.b6715264.js";const I=i("h5",{class:"text-center q-pa-lg"},"\u6703\u54E1\u5178\u85CF\u9801",-1),T={class:"q-pa-md"},E={class:"q-gutter-y-md"},U={class:"text-center"},j={class:"row"},R={__name:"UserArchivePage",setup(F){const c=$(),n=w("\u6211\u7684\u7968\u5238\u6536\u85CF"),l=h([]),d=h([]);(async()=>{try{const{data:r}=await u.get("/users/productArchive"),{data:a}=await u.get("/users/productArchive");l.push(...r.result.map(e=>(e.productArchive=a.result.includes(e._id),e)))}catch{c.notify({position:"center",color:"negative",message:"productArchive\u5931\u6557",icon:"check_circle",timeout:2e3})}})(),(async()=>{try{const{data:r}=await u.get("/users/archive"),{data:a}=await u.get("/users/archive");d.push(...r.result.map(e=>(e.archive=a.result.includes(e._id),e)))}catch{c.notify({position:"center",color:"negative",message:"archive\u5931\u6557",icon:"check_circle",timeout:2e3})}})();const k=r=>{try{const a=l.findIndex(e=>e._id===r._id);a!==-1&&l.splice(a,1)}catch(a){console.log(a),c.notify({position:"center",color:"negative",message:"\u5931\u6557",icon:"check_circle",timeout:2e3})}},b=r=>{try{const a=d.findIndex(e=>e._id===r._id);a!==-1&&d.splice(a,1)}catch{c.notify({position:"center",color:"negative",message:"\u5931\u6557",icon:"check_circle",timeout:2e3})}};return(r,a)=>(o(),m(p,null,[I,t(v,{inset:""}),i("div",T,[i("div",E,[t(Q,null,{default:s(()=>[t(V,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=e=>n.value=e),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:s(()=>[t(y,{name:"\u6211\u7684\u7968\u5238\u6536\u85CF",label:"\u6211\u7684\u7968\u5238\u6536\u85CF"}),t(y,{name:"\u6211\u7684\u6587\u7AE0\u6536\u85CF",label:"\u6211\u7684\u6587\u7AE0\u6536\u85CF"})]),_:1},8,["modelValue"]),t(v),t(P,{modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=e=>n.value=e),animated:""},{default:s(()=>[t(x,{name:"\u6211\u7684\u7968\u5238\u6536\u85CF"},{default:s(()=>[i("div",U,[i("div",j,[(o(!0),m(p,null,f(l,e=>(o(),m("div",{key:e._id,class:"col-4 q-pa-md"},[t(B,g(e,{onClick:_=>k({_id:e._id})}),null,16,["onClick"])]))),128))])])]),_:1}),t(x,{name:"\u6211\u7684\u6587\u7AE0\u6536\u85CF"},{default:s(()=>[(o(!0),m(p,null,f(d,(e,_)=>(o(),A(C,{key:_,class:"shadow-1 overflow-hidden q-ma-lg",style:{"border-radius":"30px"},label:e.title,icon:"explore","header-class":"bg-primary text-white","expand-icon-class":"text-white"},{default:s(()=>[t(q,g(e,{onClick:N=>b({_id:e._id})}),null,16,["onClick"])]),_:2},1032,["label"]))),128))]),_:1})]),_:1},8,["modelValue"])]),_:1})])])],64))}};export{R as default};
