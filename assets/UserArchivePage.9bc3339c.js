import{A as w,by as Q,h as A,U as C,bz as V,W as T,bA as $,Y as B,bB as D,c as I,bc as E,g as U,aM as j,r as z,az as b,aW as m,j as u,k as _,d as t,O as y,l as d,I as c,aE as F,F as f,aK as k,aJ as x,H as L}from"./index.48f5c3ed.js";import{Q as N,a as P,_ as S,b as W}from"./GuideCard.689c5450.js";import{u as H}from"./use-quasar.a991c62d.js";import{_ as J}from"./TicketCard.a5987afc.js";import"./QResizeObserver.3e65453c.js";import"./rtl.b51694b1.js";import"./QItem.b0c0e8d1.js";import"./QItemSection.a415b2e7.js";import"./QItemLabel.23ffb823.js";import"./QImg.e651eecf.js";var q=w({name:"QTabPanel",props:Q,setup(p,{slots:l}){return()=>A("div",{class:"q-tab-panel",role:"tabpanel"},C(l.default))}}),K=w({name:"QTabPanels",props:{...V,...T},emits:$,setup(p,{slots:l}){const r=U(),o=B(p,r.proxy.$q),{updatePanelsList:n,getPanelContent:i,panelDirectives:h}=D(),v=I(()=>"q-tab-panels q-panel-parent"+(o.value===!0?" q-tab-panels--dark q-dark":""));return()=>(n(l),E("div",{class:v.value},i(),"pan",p.swipeable,()=>h.value))}});const M=d("h5",{class:"text-center q-pa-lg"},"\u6703\u54E1\u5178\u85CF\u9801",-1),O={class:"q-pa-md"},R={class:"q-gutter-y-md"},Y={class:"text-center"},G={class:"row"},le={__name:"UserArchivePage",setup(p){const l=j(),r=H(),o=z("\u6211\u7684\u7968\u5238\u6536\u85CF"),n=b([]),i=b([]);(async()=>{try{const{data:s}=await m.get("/users/productArchive"),{data:a}=await m.get("/users/productArchive");n.push(...s.result.map(e=>(e.productArchive=a.result.includes(e._id),e)))}catch{r.notify({position:"center",color:"negative",message:"productArchive\u5931\u6557",icon:"check_circle",timeout:2e3})}})(),(async()=>{try{const{data:s}=await m.get("/users/archive"),{data:a}=await m.get("/users/archive");i.push(...s.result.map(e=>(e.archive=a.result.includes(e._id),e)))}catch{r.notify({position:"center",color:"negative",message:"archive\u5931\u6557",icon:"check_circle",timeout:2e3})}})();const h=s=>{try{const a=n.findIndex(e=>e._id===s._id);a!==-1&&(n.splice(a,1),r.notify({position:"center",color:"positive",message:"\u6210\u529F\u7DE8\u8F2F\u6536\u85CF",icon:"check_circle",timeout:2e3}),l.push("/user/archive"))}catch(a){console.log(a),r.notify({position:"center",color:"negative",message:"\u5931\u6557",icon:"check_circle",timeout:2e3})}},v=s=>{try{const a=i.findIndex(e=>e._id===s._id);a!==-1&&(i.splice(a,1),r.notify({position:"center",color:"positive",message:"\u6210\u529F\u7DE8\u8F2F\u6536\u85CF",icon:"check_circle",timeout:2e3}))}catch{r.notify({position:"center",color:"negative",message:"\u5931\u6557",icon:"check_circle",timeout:2e3})}};return(s,a)=>(u(),_(f,null,[M,t(y,{inset:""}),d("div",O,[d("div",R,[t(F,null,{default:c(()=>[t(N,{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:c(()=>[t(P,{name:"\u6211\u7684\u7968\u5238\u6536\u85CF",label:"\u6211\u7684\u7968\u5238\u6536\u85CF"}),t(P,{name:"\u6211\u7684\u6587\u7AE0\u6536\u85CF",label:"\u6211\u7684\u6587\u7AE0\u6536\u85CF"})]),_:1},8,["modelValue"]),t(y),t(K,{modelValue:o.value,"onUpdate:modelValue":a[1]||(a[1]=e=>o.value=e),animated:""},{default:c(()=>[t(q,{name:"\u6211\u7684\u7968\u5238\u6536\u85CF"},{default:c(()=>[d("div",Y,[d("div",G,[(u(!0),_(f,null,k(n,e=>(u(),_("div",{key:e._id,class:"col-4 q-pa-md"},[t(J,x(e,{onClick:g=>h({_id:e._id})}),null,16,["onClick"])]))),128))])])]),_:1}),t(q,{name:"\u6211\u7684\u6587\u7AE0\u6536\u85CF"},{default:c(()=>[(u(!0),_(f,null,k(i,(e,g)=>(u(),L(W,{key:g,class:"shadow-1 overflow-hidden q-ma-lg",style:{"border-radius":"30px"},label:e.title,icon:"explore","header-class":"bg-primary text-white","expand-icon-class":"text-white"},{default:c(()=>[t(S,x(e,{onClick:X=>v({_id:e._id})}),null,16,["onClick"])]),_:2},1032,["label"]))),128))]),_:1})]),_:1},8,["modelValue"])]),_:1})])])],64))}};export{le as default};
